---
apiVersion: apps.openshift.io/v1
kind: DeploymentConfig
metadata:
  labels:
    app: pg-replica
    app.kubernetes.io/component: pg-replica
    app.kubernetes.io/instance: pg-replica
  name: postgresql-slave
spec:
  replicas: 2
  template:
    metadata:
      labels:
        name: postgresql-slave
    spec:
      containers:
      - args:
        - run-postgresql-slave
        env:
        - name: POSTGRESQL_MAX_CONNECTIONS
          value: "500"
        - name: POSTGRESQL_SHARED_BUFFERS
          value: 96MB
        - name: POSTGRESQL_EFFECTIVE_CACHE_SIZE
          value: 512MB
        - name: POSTGRESQL_MASTER_SERVICE_NAME
          value: postgresql-master
        - name: POSTGRESQL_MASTER_USER
          value: master
        - name: POSTGRESQL_MASTER_PASSWORD
          value: fkNrPS7HaWWU
        - name: POSTGRESQL_USER
          value: pguser
        - name: POSTGRESQL_PASSWORD
          value: password
        - name: POSTGRESQL_DATABASE
          value: currikidb
